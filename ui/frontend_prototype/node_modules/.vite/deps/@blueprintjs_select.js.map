{
  "version": 3,
  "sources": ["../../@blueprintjs/select/src/common/classes.ts", "../../@blueprintjs/select/src/common/itemListRenderer.ts", "../../@blueprintjs/select/src/common/listItemsProps.ts", "../../@blueprintjs/select/src/common/listItemsUtils.ts", "../../@blueprintjs/select/src/components/multi-select/multiSelect.tsx", "../../@blueprintjs/select/src/components/query-list/queryList.tsx", "../../@blueprintjs/select/src/components/omnibar/omnibar.tsx", "../../@blueprintjs/select/src/components/select/select.tsx", "../../@blueprintjs/select/src/components/suggest/suggest.tsx"],
  "sourcesContent": ["/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { Classes } from \"@blueprintjs/core\";\n\nconst NS = Classes.getClassNamespace();\n\nexport const MULTISELECT = `${NS}-multi-select`;\nexport const MULTISELECT_POPOVER = `${MULTISELECT}-popover`;\nexport const MULTISELECT_TAG_INPUT_INPUT = `${MULTISELECT}-tag-input-input`;\nexport const OMNIBAR = `${NS}-omnibar`;\nexport const OMNIBAR_OVERLAY = `${OMNIBAR}-overlay`;\nexport const SELECT_POPOVER = `${NS}-select-popover`;\nexport const SUGGEST_POPOVER = `${NS}-suggest-popover`;\n", "/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport type { CreateNewItem } from \"./listItemsUtils\";\n\n/**\n * An object describing how to render the list of items.\n * An `itemListRenderer` receives this object as its sole argument.\n */\nexport interface ItemListRendererProps<T> {\n    /**\n     * The currently focused item (for keyboard interactions), or `null` to\n     * indicate that no item is active.\n     */\n    activeItem: T | CreateNewItem | null;\n\n    /**\n     * Array of items filtered by `itemListPredicate` or `itemPredicate`.\n     * See `items` for the full list of items.\n     *\n     * Use `renderFilteredItems()` utility function from this library to\n     * map each item in this array through `renderItem`, with support for\n     * optional `noResults` and `initialContent` states.\n     */\n    filteredItems: T[];\n\n    /**\n     * Array of all items in the list.\n     * See `filteredItems` for a filtered array based on `query` and predicate props.\n     */\n    items: T[];\n\n    /**\n     * The current query string.\n     */\n    query: string;\n\n    /**\n     * A ref handler that should be attached to the parent HTML element of the menu items.\n     * This is required for the active item to scroll into view automatically.\n     */\n    itemsParentRef: React.Ref<HTMLUListElement>;\n\n    /**\n     * Props to apply to the `Menu` created within the `itemListRenderer`\n     */\n    menuProps?: React.HTMLAttributes<HTMLUListElement>;\n\n    /**\n     * Call this function to render an item.\n     * This retrieves the modifiers for the item and delegates actual rendering\n     * to the owner component's `itemRenderer` prop.\n     */\n    renderItem: (item: T, index: number) => React.JSX.Element | null;\n\n    /**\n     * Call this function to render the \"create new item\" view component.\n     *\n     * @returns null when creating a new item is not available, and undefined if the createNewItemRenderer returns undefined\n     */\n    renderCreateItem: () => React.JSX.Element | null | undefined;\n}\n\n/** Type alias for a function that renders the list of items. */\nexport type ItemListRenderer<T> = (itemListProps: ItemListRendererProps<T>) => React.JSX.Element | null;\n\n/**\n * `ItemListRenderer` helper method for rendering each item in `filteredItems`,\n * with optional support for `noResults` (when filtered items is empty)\n * and `initialContent` (when query is empty).\n */\nexport function renderFilteredItems(\n    props: ItemListRendererProps<any>,\n    noResults?: React.ReactNode,\n    initialContent?: React.ReactNode | null,\n): React.ReactNode {\n    if (props.query.length === 0 && initialContent !== undefined) {\n        return initialContent;\n    }\n    const items = props.filteredItems.map(props.renderItem).filter(item => item != null);\n    return items.length > 0 ? items : noResults;\n}\n", "/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport { type Props, Utils } from \"@blueprintjs/core\";\n\nimport type { ItemListRenderer } from \"./itemListRenderer\";\nimport type { ItemRenderer } from \"./itemRenderer\";\nimport type { CreateNewItem } from \"./listItemsUtils\";\nimport type { ItemListPredicate, ItemPredicate } from \"./predicate\";\n\n/**\n * Equality test comparator to determine if two {@link ListItemsProps} items are equivalent.\n *\n * @return `true` if the two items are equivalent.\n */\nexport type ItemsEqualComparator<T> = (itemA: T, itemB: T) => boolean;\n\n/**\n * Union of all possible types for {@link ListItemsProps#itemsEqual}.\n */\nexport type ItemsEqualProp<T> = ItemsEqualComparator<T> | keyof T;\n\n/** Reusable generic props for a component that operates on a filterable, selectable list of `items`. */\nexport interface ListItemsProps<T> extends Props {\n    /**\n     * The currently focused item for keyboard interactions, or `null` to\n     * indicate that no item is active. If omitted or `undefined`, this prop will be\n     * uncontrolled (managed by the component's state). Use `onActiveItemChange`\n     * to listen for updates.\n     */\n    activeItem?: T | CreateNewItem | null;\n\n    /** Array of items in the list. */\n    items: T[];\n\n    /**\n     * Specifies how to test if two items are equal. By default, simple strict\n     * equality (`===`) is used to compare two items.\n     *\n     * If your items have a unique identifier field, simply provide the name of\n     * a property on the item that can be compared with strict equality to\n     * determine equivalence: `itemsEqual=\"id\"` will check `a.id === b.id`.\n     *\n     * If more complex comparison logic is required, provide an equality\n     * comparator function that returns `true` if the two items are equal. The\n     * arguments to this function will never be `null` or `undefined`, as those\n     * values are handled before calling the function.\n     */\n    itemsEqual?: ItemsEqualProp<T>;\n\n    /**\n     * Determine if the given item is disabled. Provide a callback function, or\n     * simply provide the name of a boolean property on the item that exposes\n     * its disabled state.\n     */\n    itemDisabled?: keyof T | ((item: T, index: number) => boolean);\n\n    /**\n     * Customize querying of entire `items` array. Return new list of items.\n     * This method can reorder, add, or remove items at will.\n     * (Supports filter algorithms that operate on the entire set, rather than individual items.)\n     *\n     * If `itemPredicate` is also defined, this prop takes priority and the other will be ignored.\n     */\n    itemListPredicate?: ItemListPredicate<T>;\n\n    /**\n     * Customize querying of individual items.\n     *\n     * __Filtering a list of items.__ This function is invoked to filter the\n     * list of items as a query is typed. Return `true` to keep the item, or\n     * `false` to hide. This method is invoked once for each item, so it should\n     * be performant. For more complex queries, use `itemListPredicate` to\n     * operate once on the entire array. For the purposes of filtering the list,\n     * this prop is ignored if `itemListPredicate` is also defined.\n     *\n     * __Matching a pasted value to an item.__ This function is also invoked to\n     * match a pasted value to an existing item if possible. In this case, the\n     * function will receive `exactMatch=true`, and the function should return\n     * true only if the item _exactly_ matches the query. For the purposes of\n     * matching pasted values, this prop will be invoked even if\n     * `itemListPredicate` is defined.\n     */\n    itemPredicate?: ItemPredicate<T>;\n\n    /**\n     * Custom renderer for an item in the dropdown list. Receives a boolean indicating whether\n     * this item is active (selected by keyboard arrows) and an `onClick` event handler that\n     * should be attached to the returned element.\n     */\n    itemRenderer: ItemRenderer<T>;\n\n    /**\n     * Custom renderer for the contents of the dropdown.\n     *\n     * The default implementation invokes `itemRenderer` for each item that passes the predicate\n     * and wraps them all in a `Menu` element. If the query is empty then `initialContent` is returned,\n     * and if there are no items that match the predicate then `noResults` is returned.\n     */\n    itemListRenderer?: ItemListRenderer<T>;\n\n    /**\n     * React content to render when query is empty.\n     * If omitted, all items will be rendered (or result of `itemListPredicate` with empty query).\n     * If explicit `null`, nothing will be rendered when query is empty.\n     *\n     * This prop is ignored if a custom `itemListRenderer` is supplied.\n     */\n    initialContent?: React.ReactNode | null;\n\n    /**\n     * React content to render when filtering items returns zero results.\n     * If omitted, nothing will be rendered in this case.\n     *\n     * This prop is ignored if a custom `itemListRenderer` is supplied.\n     *\n     * NOTE: if passing a `MenuItem`, ensure it has `roleStructure=\"listoption\"` prop.\n     */\n    noResults?: React.ReactNode;\n\n    /**\n     * Invoked when user interaction should change the active item: arrow keys\n     * move it up/down in the list, selecting an item makes it active, and\n     * changing the query may reset it to the first item in the list if it no\n     * longer matches the filter.\n     *\n     * If the \"Create Item\" option is displayed and currently active, then\n     * `isCreateNewItem` will be `true` and `activeItem` will be `null`. In this\n     * case, you should provide a valid `CreateNewItem` object to the\n     * `activeItem` _prop_ in order for the \"Create Item\" option to appear as\n     * active.\n     *\n     * __Note:__ You can instantiate a `CreateNewItem` object using the\n     * `getCreateNewItem()` utility exported from this package.\n     */\n    onActiveItemChange?: (activeItem: T | null, isCreateNewItem: boolean) => void;\n\n    /**\n     * Callback invoked when an item from the list is selected,\n     * typically by clicking or pressing `enter` key.\n     */\n    onItemSelect: (item: T, event?: React.SyntheticEvent<HTMLElement>) => void;\n\n    /**\n     * Callback invoked when multiple items are selected at once via pasting.\n     */\n    onItemsPaste?: (items: T[]) => void;\n\n    /**\n     * Callback invoked when the query string changes.\n     */\n    onQueryChange?: (query: string, event?: React.ChangeEvent<HTMLInputElement>) => void;\n\n    /**\n     * If provided, allows new items to be created using the current query\n     * string. This is invoked when user interaction causes one or many items to be\n     * created, either by pressing the `Enter` key or by clicking on the \"Create\n     * Item\" option. It transforms a query string into one or many items type.\n     */\n    createNewItemFromQuery?: (query: string) => T | T[];\n\n    /**\n     * Custom renderer to transform the current query string into a selectable\n     * \"Create Item\" option. If this function is provided, a \"Create Item\"\n     * option will be rendered at the end of the list of items. If this function\n     * is not provided, a \"Create Item\" option will not be displayed.\n     */\n    createNewItemRenderer?: (\n        query: string,\n        active: boolean,\n        handleClick: React.MouseEventHandler<HTMLElement>,\n    ) => React.JSX.Element | undefined;\n\n    /**\n     * Determines the position of the `createNewItem` within the list: first or\n     * last. Only relevant when `createNewItemRenderer` is defined.\n     *\n     * @default 'last'\n     */\n    createNewItemPosition?: \"first\" | \"last\";\n\n    /**\n     * Whether the active item should be reset to the first matching item _every\n     * time the query changes_ (via prop or by user input).\n     *\n     * @default true\n     */\n    resetOnQuery?: boolean;\n\n    /**\n     * Whether the active item should be reset to the first matching item _when\n     * an item is selected_. The query will also be reset to the empty string.\n     *\n     * @default false\n     */\n    resetOnSelect?: boolean;\n\n    /**\n     * When `activeItem` is controlled, whether the active item should _always_\n     * be scrolled into view when the prop changes. If `false`, only changes\n     * that result from built-in interactions (clicking, querying, or using\n     * arrow keys) will scroll the active item into view. Ignored if the\n     * `activeItem` prop is omitted (uncontrolled behavior).\n     *\n     * @default true\n     */\n    scrollToActiveItem?: boolean;\n\n    /**\n     * Query string passed to `itemListPredicate` or `itemPredicate` to filter items.\n     * This value is controlled: its state must be managed externally by attaching an `onChange`\n     * handler to the relevant element in your `renderer` implementation.\n     */\n    query?: string;\n}\n\n/**\n * Utility function for executing the {@link ListItemsProps#itemsEqual} prop to test\n * for equality between two items.\n *\n * @return `true` if the two items are equivalent according to `itemsEqualProp`.\n */\nexport function executeItemsEqual<T>(\n    itemsEqualProp: ItemsEqualProp<T> | undefined,\n    itemA: T | null | undefined,\n    itemB: T | null | undefined,\n): boolean {\n    // Use strict equality if:\n    // A) Default equality check is necessary because itemsEqualProp is undefined.\n    // OR\n    // B) Either item is null/undefined. Note that null represents \"no item\", while\n    //    undefined represents an uncontrolled prop. This strict equality check ensures\n    //    nothing will ever be considered equivalent to an uncontrolled prop.\n    if (itemsEqualProp === undefined || itemA == null || itemB == null) {\n        return itemA === itemB;\n    }\n\n    if (Utils.isFunction(itemsEqualProp)) {\n        // itemsEqualProp is an equality comparator function, so use it\n        return itemsEqualProp(itemA, itemB);\n    } else {\n        // itemsEqualProp is a property name, so strictly compare the values of the property.\n        return itemA[itemsEqualProp] === itemB[itemsEqualProp];\n    }\n}\n", "/*\n * Copyright 2018 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/* eslint-disable no-underscore-dangle */\n\n/**\n * The reserved type of the \"Create Item\" option in item lists. This is intended\n * not to conflict with any custom item type `T` that might be used in  item\n * list.\n */\nexport interface CreateNewItem {\n    __blueprintCreateNewItemBrand: \"blueprint-create-new-item\";\n}\n\n/** Returns an instance of a \"Create Item\" object. */\nexport function getCreateNewItem(): CreateNewItem {\n    return { __blueprintCreateNewItemBrand: \"blueprint-create-new-item\" };\n}\n\n/**\n * Type guard returning `true` if the provided item (e.g. the current\n * `activeItem`) is a \"Create Item\" option.\n */\nexport function isCreateNewItem<T>(item: T | CreateNewItem | null | undefined): item is CreateNewItem {\n    if (item == null) {\n        return false;\n    }\n\n    // see if the provided item exactly matches the `CreateNewItem` object,\n    // with no superfluous keys.\n    const keys = Object.keys(item);\n    if (keys.length !== 1 || keys[0] !== \"__blueprintCreateNewItemBrand\") {\n        return false;\n    }\n    return (item as CreateNewItem).__blueprintCreateNewItemBrand === \"blueprint-create-new-item\";\n}\n\n/**\n * Returns the type of the the current active item. This will be a no-op unless\n * the `activeItem` is `undefined` or a \"Create Item\" option, in which case\n * `null` will be returned instead.\n */\nexport function getActiveItem<T>(activeItem: T | CreateNewItem | null | undefined): T | null {\n    return activeItem == null || isCreateNewItem(activeItem) ? null : activeItem;\n}\n", "/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from \"classnames\";\nimport * as React from \"react\";\n\nimport {\n    AbstractPureComponent,\n    Button,\n    Classes as CoreClasses,\n    DISPLAYNAME_PREFIX,\n    mergeRefs,\n    Popover,\n    type PopoverClickTargetHandlers,\n    type PopoverTargetProps,\n    PopupKind,\n    refHandler,\n    setRef,\n    TagInput,\n    type TagInputAddMethod,\n    type TagInputProps,\n    Utils,\n} from \"@blueprintjs/core\";\nimport { Cross } from \"@blueprintjs/icons\";\n\nimport { Classes, type ListItemsProps, type SelectPopoverProps } from \"../../common\";\nimport { QueryList, type QueryListRendererProps } from \"../query-list/queryList\";\n\nexport interface MultiSelectProps<T> extends ListItemsProps<T>, SelectPopoverProps {\n    /**\n     * Whether the component is non-interactive.\n     * If true, the list's item renderer will not be called.\n     *\n     * @default false\n     */\n    disabled?: boolean;\n\n    /**\n     * Whether the component should take up the full width of its container.\n     */\n    fill?: boolean;\n\n    /**\n     * Props to spread to the `Menu` listbox containing the selectable options.\n     */\n    menuProps?: React.HTMLAttributes<HTMLUListElement>;\n\n    /**\n     * If provided, this component will render a \"clear\" button inside its TagInput.\n     * Clicking that button will invoke this callback to clear all items from the current selection.\n     */\n    onClear?: () => void;\n\n    /**\n     * Callback invoked when an item is removed from the selection by\n     * removing its tag in the TagInput. This is generally more useful than\n     * `tagInputProps.onRemove`  because it receives the removed value instead of\n     * the value's rendered `ReactNode` tag.\n     *\n     * It is not recommended to supply _both_ this prop and `tagInputProps.onRemove`.\n     */\n    onRemove?: (value: T, index: number) => void;\n\n    /**\n     * If true, the component waits until a keydown event in the TagInput\n     * before opening its popover.\n     *\n     * If false, the popover opens immediately after a mouse click focuses\n     * the component's TagInput.\n     *\n     * N.B. the behavior of this prop differs slightly from the same one\n     * in the Suggest component; see https://github.com/palantir/blueprint/issues/4152.\n     *\n     * @default false\n     */\n    openOnKeyDown?: boolean;\n\n    /**\n     * Input placeholder text. Shorthand for `tagInputProps.placeholder`.\n     *\n     * @default \"Search...\"\n     */\n    placeholder?: string;\n\n    /** Controlled selected values. */\n    selectedItems: T[];\n\n    /**\n     * Props to pass to the [TagInput component](##core/components/tag-input).\n     *\n     * Some properties are unavailable:\n     * - `tagInputProps.inputValue`: use `query` instead\n     * - `tagInputProps.onInputChange`: use `onQueryChange` instead\n     *\n     * Some properties are available, but discouraged. If you find yourself using these due to a bug in MultiSelect\n     * or some edge case which is not handled by `onItemSelect`, `onItemsPaste`, `onRemove`, and `onClear`, please\n     * file a bug in the Blueprint repo:\n     * - `tagInputProps.onChange`\n     *\n     * Notes for `tagInputProps.rightElement`:\n     * - you are responsible for disabling any elements you may render here when the overall `MultiSelect` is disabled\n     * - if the `onClear` prop is defined, this element will override/replace the default rightElement,\n     *   which is a \"clear\" button that removes all items from the current selection.\n     */\n    tagInputProps?: Partial<Omit<TagInputProps, \"inputValue\" | \"onInputChange\">>;\n\n    /** Custom renderer to transform an item into tag content. */\n    tagRenderer: (item: T) => React.ReactNode;\n}\n\n/** Exported for testing, not part of public API */\nexport interface MultiSelectState {\n    isOpen: boolean;\n}\n\n/**\n * Multi select component.\n *\n * @see https://blueprintjs.com/docs/#select/multi-select\n */\nexport class MultiSelect<T> extends AbstractPureComponent<MultiSelectProps<T>, MultiSelectState> {\n    public static displayName = `${DISPLAYNAME_PREFIX}.MultiSelect`;\n\n    private listboxId = Utils.uniqueId(\"listbox\");\n\n    public static defaultProps = {\n        disabled: false,\n        fill: false,\n        placeholder: \"Search...\",\n    };\n\n    /** @deprecated no longer necessary now that the TypeScript parser supports type arguments on JSX element tags */\n    public static ofType<U>() {\n        return MultiSelect as new (props: MultiSelectProps<U>) => MultiSelect<U>;\n    }\n\n    public state: MultiSelectState = {\n        isOpen: (this.props.popoverProps && this.props.popoverProps.isOpen) || false,\n    };\n\n    public input: HTMLInputElement | null = null;\n\n    public queryList: QueryList<T> | null = null;\n\n    private refHandlers: {\n        input: React.RefCallback<HTMLInputElement>;\n        popover: React.RefObject<Popover>;\n        queryList: React.RefCallback<QueryList<T>>;\n    } = {\n        input: refHandler(this, \"input\", this.props.tagInputProps?.inputRef),\n        popover: React.createRef(),\n        queryList: (ref: QueryList<T> | null) => (this.queryList = ref),\n    };\n\n    public componentDidUpdate(prevProps: MultiSelectProps<T>) {\n        if (prevProps.tagInputProps?.inputRef !== this.props.tagInputProps?.inputRef) {\n            setRef(prevProps.tagInputProps?.inputRef, null);\n            this.refHandlers.input = refHandler(this, \"input\", this.props.tagInputProps?.inputRef);\n            setRef(this.props.tagInputProps?.inputRef, this.input);\n        }\n        if (\n            (prevProps.onClear === undefined && this.props.onClear !== undefined) ||\n            (prevProps.onClear !== undefined && this.props.onClear === undefined)\n        ) {\n            this.forceUpdate();\n        }\n    }\n\n    public render() {\n        // omit props specific to this component, spread the rest.\n        const { menuProps, openOnKeyDown, popoverProps, tagInputProps, ...restProps } = this.props;\n\n        return (\n            <QueryList<T>\n                {...restProps}\n                menuProps={{\n                    \"aria-label\": \"selectable options\",\n                    ...menuProps,\n                    \"aria-multiselectable\": true,\n                    id: this.listboxId,\n                }}\n                onItemSelect={this.handleItemSelect}\n                onQueryChange={this.handleQueryChange}\n                ref={this.refHandlers.queryList}\n                renderer={this.renderQueryList}\n            />\n        );\n    }\n\n    private renderQueryList = (listProps: QueryListRendererProps<T>) => {\n        const { disabled, popoverContentProps = {}, popoverProps = {} } = this.props;\n        const { handleKeyDown, handleKeyUp } = listProps;\n\n        const popoverRef =\n            this.props.popoverRef === undefined\n                ? this.refHandlers.popover\n                : mergeRefs(this.refHandlers.popover, this.props.popoverRef);\n\n        // N.B. no need to set `popoverProps.fill` since that is unused with the `renderTarget` API\n        return (\n            <Popover\n                autoFocus={false}\n                canEscapeKeyClose={true}\n                disabled={disabled}\n                enforceFocus={false}\n                isOpen={this.state.isOpen}\n                placement={popoverProps.position || popoverProps.placement ? undefined : \"bottom-start\"}\n                {...popoverProps}\n                className={classNames(listProps.className, popoverProps.className)}\n                content={\n                    <div {...popoverContentProps} onKeyDown={handleKeyDown} onKeyUp={handleKeyUp}>\n                        {listProps.itemList}\n                    </div>\n                }\n                interactionKind=\"click\"\n                onInteraction={this.handlePopoverInteraction}\n                onOpened={this.handlePopoverOpened}\n                popoverClassName={classNames(Classes.MULTISELECT_POPOVER, popoverProps.popoverClassName)}\n                popupKind={PopupKind.LISTBOX}\n                ref={popoverRef}\n                renderTarget={this.getPopoverTargetRenderer(listProps, this.state.isOpen)}\n            />\n        );\n    };\n\n    // We use the renderTarget API to flatten the rendered DOM and make it easier to implement features like\n    // the \"fill\" prop. Note that we must take `isOpen` as an argument to force this render function to be called\n    // again after that state changes.\n    private getPopoverTargetRenderer =\n        (listProps: QueryListRendererProps<T>, isOpen: boolean) =>\n        // N.B. pull out `isOpen` so that it's not forwarded to the DOM, but remember not to use it directly\n        // since it may be stale (`renderTarget` is not re-invoked on this.state changes).\n        // eslint-disable-next-line react/display-name\n        ({ isOpen: _isOpen, ref, ...targetProps }: PopoverTargetProps & PopoverClickTargetHandlers) => {\n            const {\n                disabled,\n                fill,\n                onClear,\n                placeholder,\n                popoverProps = {},\n                popoverTargetProps = {},\n                selectedItems,\n                tagInputProps = {},\n            } = this.props;\n            const { handleKeyDown, handleKeyUp } = listProps;\n\n            // add our own inputProps.className so that we can reference it in event handlers\n            const inputProps = {\n                ...tagInputProps.inputProps,\n                className: classNames(tagInputProps.inputProps?.className, Classes.MULTISELECT_TAG_INPUT_INPUT),\n            };\n\n            const maybeClearButton =\n                onClear !== undefined && selectedItems.length > 0 ? (\n                    // use both aria-label and title a11y attributes here, for screen readers\n                    // and mouseover interactions respectively\n                    <Button\n                        aria-label=\"Clear selected items\"\n                        disabled={disabled}\n                        icon={<Cross />}\n                        minimal={true}\n                        onClick={this.handleClearButtonClick}\n                        title=\"Clear selected items\"\n                    />\n                ) : undefined;\n\n            const { targetTagName = \"div\" } = popoverProps;\n\n            return React.createElement(\n                targetTagName,\n                {\n                    \"aria-autocomplete\": \"list\",\n                    \"aria-controls\": this.listboxId,\n                    ...popoverTargetProps,\n                    ...targetProps,\n                    \"aria-disabled\": disabled,\n                    \"aria-expanded\": isOpen,\n                    // Note that we must set FILL here in addition to TagInput to get the wrapper element to full width\n                    className: classNames(targetProps.className, popoverTargetProps.className, {\n                        [CoreClasses.FILL]: fill,\n                    }),\n                    // Normally, Popover would also need to attach its own `onKeyDown` handler via `targetProps`,\n                    // but in our case we fully manage that interaction and listen for key events to open/close\n                    // the popover, so we elide it from the DOM.\n                    onKeyDown: this.getTagInputKeyDownHandler(handleKeyDown),\n                    onKeyUp: this.getTagInputKeyUpHandler(handleKeyUp),\n                    ref,\n                    role: \"combobox\",\n                },\n                <TagInput\n                    placeholder={placeholder}\n                    rightElement={maybeClearButton}\n                    {...tagInputProps}\n                    className={classNames(Classes.MULTISELECT, tagInputProps.className)}\n                    disabled={disabled}\n                    fill={fill}\n                    inputRef={this.refHandlers.input}\n                    inputProps={inputProps}\n                    inputValue={listProps.query}\n                    onAdd={this.getTagInputAddHandler(listProps)}\n                    onInputChange={listProps.handleQueryChange}\n                    onRemove={this.handleTagRemove}\n                    values={selectedItems.map(this.props.tagRenderer)}\n                />,\n            );\n        };\n\n    private handleItemSelect = (item: T, evt?: React.SyntheticEvent<HTMLElement>) => {\n        if (this.input != null) {\n            this.input.focus();\n        }\n        this.props.onItemSelect?.(item, evt);\n        this.refHandlers.popover.current?.reposition(); // reposition when size of input changes\n    };\n\n    private handleQueryChange = (query: string, evt?: React.ChangeEvent<HTMLInputElement>) => {\n        this.setState({ isOpen: query.length > 0 || !this.props.openOnKeyDown });\n        this.props.onQueryChange?.(query, evt);\n    };\n\n    // Popover interaction kind is CLICK, so this only handles click events.\n    // Note that we defer to the next animation frame in order to get the latest activeElement\n    private handlePopoverInteraction = (nextOpenState: boolean, evt?: React.SyntheticEvent<HTMLElement>) =>\n        this.requestAnimationFrame(() => {\n            const isInputFocused = this.input === Utils.getActiveElement(this.input);\n\n            if (this.input != null && !isInputFocused) {\n                // input is no longer focused, we should close the popover\n                this.setState({ isOpen: false });\n            } else if (!this.props.openOnKeyDown) {\n                // we should open immediately on click focus events\n                this.setState({ isOpen: true });\n            }\n\n            this.props.popoverProps?.onInteraction?.(nextOpenState, evt);\n        });\n\n    private handlePopoverOpened = (node: HTMLElement) => {\n        if (this.queryList != null) {\n            // scroll active item into view after popover transition completes and all dimensions are stable.\n            this.queryList.scrollActiveItemIntoView();\n        }\n        this.props.popoverProps?.onOpened?.(node);\n    };\n\n    private handleTagRemove = (tag: React.ReactNode, index: number) => {\n        const { selectedItems, onRemove, tagInputProps } = this.props;\n        onRemove?.(selectedItems[index], index);\n        tagInputProps?.onRemove?.(tag, index);\n        this.refHandlers.popover.current?.reposition(); // reposition when size of input changes\n    };\n\n    private getTagInputAddHandler =\n        (listProps: QueryListRendererProps<T>) => (values: any[], method: TagInputAddMethod) => {\n            if (method === \"paste\") {\n                listProps.handlePaste(values);\n            }\n        };\n\n    private getTagInputKeyDownHandler = (handleQueryListKeyDown: React.KeyboardEventHandler<HTMLElement>) => {\n        return (e: React.KeyboardEvent<HTMLElement>) => {\n            if (e.key === \"Escape\" || e.key === \"Tab\") {\n                // By default the escape key will not trigger a blur on the\n                // input element. It must be done explicitly.\n                if (this.input != null) {\n                    this.input.blur();\n                }\n                this.setState({ isOpen: false });\n            } else if (!(e.key === \"Backspace\" || e.key === \"ArrowLeft\" || e.key === \"ArrowRight\")) {\n                this.setState({ isOpen: true });\n            }\n\n            const isTargetingTagRemoveButton = (e.target as HTMLElement).closest(`.${CoreClasses.TAG_REMOVE}`) != null;\n\n            if (this.state.isOpen && !isTargetingTagRemoveButton) {\n                handleQueryListKeyDown?.(e);\n            }\n\n            this.props.popoverTargetProps?.onKeyDown?.(e);\n        };\n    };\n\n    private getTagInputKeyUpHandler = (handleQueryListKeyUp: React.KeyboardEventHandler<HTMLElement>) => {\n        return (e: React.KeyboardEvent<HTMLElement>) => {\n            const isTargetingInput = (e.target as HTMLElement).classList.contains(Classes.MULTISELECT_TAG_INPUT_INPUT);\n\n            // only handle events when the focus is on the actual <input> inside the TagInput, as that's\n            // what QueryList is designed to do\n            if (this.state.isOpen && isTargetingInput) {\n                handleQueryListKeyUp?.(e);\n            }\n\n            this.props.popoverTargetProps?.onKeyDown?.(e);\n        };\n    };\n\n    private handleClearButtonClick = () => {\n        this.props.onClear?.();\n        this.refHandlers.popover.current?.reposition(); // reposition when size of input changes\n    };\n}\n", "/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport * as React from \"react\";\n\nimport { AbstractComponent, DISPLAYNAME_PREFIX, Menu, type Props, Utils } from \"@blueprintjs/core\";\n\nimport {\n    type CreateNewItem,\n    executeItemsEqual,\n    getActiveItem,\n    getCreateNewItem,\n    isCreateNewItem,\n    type ItemListRendererProps,\n    type ItemModifiers,\n    type ListItemsProps,\n    renderFilteredItems,\n} from \"../../common\";\n\nexport interface QueryListProps<T> extends ListItemsProps<T> {\n    /**\n     * Initial active item, useful if the parent component is controlling its selectedItem but\n     * not activeItem.\n     */\n    initialActiveItem?: T;\n\n    /**\n     * Additional props to apply to the `Menu` that is created within the `QueryList`\n     */\n    menuProps?: React.HTMLAttributes<HTMLUListElement>;\n\n    /**\n     * Callback invoked when user presses a key, after processing `QueryList`'s own key events\n     * (up/down to navigate active item). This callback is passed to `renderer` and (along with\n     * `onKeyUp`) can be attached to arbitrary content elements to support keyboard selection.\n     */\n    onKeyDown?: React.KeyboardEventHandler<HTMLElement>;\n\n    /**\n     * Callback invoked when user releases a key, after processing `QueryList`'s own key events\n     * (enter to select active item). This callback is passed to `renderer` and (along with\n     * `onKeyDown`) can be attached to arbitrary content elements to support keyboard selection.\n     */\n    onKeyUp?: React.KeyboardEventHandler<HTMLElement>;\n\n    /**\n     * Customize rendering of the component.\n     * Receives an object with props that should be applied to elements as necessary.\n     */\n    renderer: (listProps: QueryListRendererProps<T>) => React.JSX.Element;\n\n    /**\n     * Whether the list is disabled.\n     *\n     * @default false\n     */\n    disabled?: boolean;\n}\n\n/**\n * An object describing how to render a `QueryList`.\n * A `QueryList` `renderer` receives this object as its sole argument.\n */\nexport interface QueryListRendererProps<T> // Omit `createNewItem`, because it's used strictly for internal tracking.\n    extends Pick<QueryListState<T>, \"activeItem\" | \"filteredItems\" | \"query\">,\n        Props {\n    /**\n     * Selection handler that should be invoked when a new item has been chosen,\n     * perhaps because the user clicked it.\n     */\n    handleItemSelect: (item: T, event?: React.SyntheticEvent<HTMLElement>) => void;\n\n    /**\n     * Handler that should be invoked when the user pastes one or more values.\n     *\n     * This callback will use `itemPredicate` with `exactMatch=true` to find a\n     * subset of `items` exactly matching the pasted `values` provided, then it\n     * will invoke `onItemsPaste` with those found items. Each pasted value that\n     * does not exactly match an item will be ignored.\n     *\n     * If creating items is enabled (by providing both `createNewItemFromQuery`\n     * and `createNewItemRenderer`), then pasted values that do not exactly\n     * match an existing item will emit a new item as created via\n     * `createNewItemFromQuery`.\n     *\n     * If `itemPredicate` returns multiple matching items for a particular query\n     * in `queries`, then only the first matching item will be emitted.\n     */\n    handlePaste: (queries: string[]) => void;\n\n    /**\n     * Keyboard handler for up/down arrow keys to shift the active item.\n     * Attach this handler to any element that should support this interaction.\n     */\n    handleKeyDown: React.KeyboardEventHandler<HTMLElement>;\n\n    /**\n     * Keyboard handler for enter key to select the active item.\n     * Attach this handler to any element that should support this interaction.\n     */\n    handleKeyUp: React.KeyboardEventHandler<HTMLElement>;\n\n    /**\n     * Change handler for query string. Attach this to an input element to allow\n     * `QueryList` to control the query.\n     */\n    handleQueryChange: React.ChangeEventHandler<HTMLInputElement>;\n\n    /** Rendered elements returned from `itemListRenderer` prop. */\n    itemList: React.ReactNode;\n}\n\n/** Exported for testing, not part of public API */\nexport interface QueryListState<T> {\n    /** The currently focused item (for keyboard interactions). */\n    activeItem: T | CreateNewItem | null;\n\n    /**\n     * The item returned from `createNewItemFromQuery(this.state.query)`, cached\n     * to avoid continuous reinstantions within `isCreateItemRendered`, where\n     * this element will be used to hide the \"Create Item\" option if its value\n     * matches the current `query`.\n     */\n    createNewItem: T | T[] | undefined;\n\n    /** The original `items` array filtered by `itemListPredicate` or `itemPredicate`. */\n    filteredItems: T[];\n\n    /** The current query string. */\n    query: string;\n}\n\n/**\n * Query list component.\n *\n * @see https://blueprintjs.com/docs/#select/query-list\n */\nexport class QueryList<T> extends AbstractComponent<QueryListProps<T>, QueryListState<T>> {\n    public static displayName = `${DISPLAYNAME_PREFIX}.QueryList`;\n\n    public static defaultProps = {\n        disabled: false,\n        resetOnQuery: true,\n    };\n\n    /** @deprecated no longer necessary now that the TypeScript parser supports type arguments on JSX element tags */\n    public static ofType<U>() {\n        return QueryList as new (props: QueryListProps<U>) => QueryList<U>;\n    }\n\n    private itemsParentRef?: HTMLElement | null;\n\n    private itemRefs = new Map<number, HTMLElement>();\n\n    private refHandlers = {\n        itemsParent: (ref: HTMLElement | null) => (this.itemsParentRef = ref),\n    };\n\n    /**\n     * Flag indicating that we should check whether selected item is in viewport\n     * after rendering, typically because of keyboard change. Set to `true` when\n     * manipulating state in a way that may cause active item to scroll away.\n     */\n    private shouldCheckActiveItemInViewport = false;\n\n    /**\n     * The item that we expect to be the next selected active item (based on click\n     * or key interactions). When scrollToActiveItem = false, used to detect if\n     * an unexpected external change to the active item has been made.\n     */\n    private expectedNextActiveItem: T | CreateNewItem | null = null;\n\n    /**\n     * Flag which is set to true while in between an ENTER \"keydown\" event and its\n     * corresponding \"keyup\" event.\n     *\n     * When entering text via an IME (https://en.wikipedia.org/wiki/Input_method),\n     * the ENTER key is pressed to confirm the character(s) to be input from a list\n     * of options. The operating system intercepts the ENTER \"keydown\" event and\n     * prevents it from propagating to the application, but \"keyup\" is still\n     * fired, triggering a spurious event which this component does not expect.\n     *\n     * To work around this quirk, we keep track of \"real\" key presses by setting\n     * this flag in handleKeyDown.\n     */\n    private isEnterKeyPressed = false;\n\n    public constructor(props: QueryListProps<T>) {\n        super(props);\n\n        const { query = \"\" } = props;\n        const createNewItem = props.createNewItemFromQuery?.(query);\n        const filteredItems = getFilteredItems(query, props);\n\n        this.state = {\n            activeItem:\n                props.activeItem !== undefined\n                    ? props.activeItem\n                    : props.initialActiveItem ?? getFirstEnabledItem(filteredItems, props.itemDisabled),\n            createNewItem,\n            filteredItems,\n            query,\n        };\n    }\n\n    public render() {\n        const { className, items, renderer, itemListRenderer = this.renderItemList, menuProps } = this.props;\n        const { createNewItem, ...spreadableState } = this.state;\n        return renderer({\n            ...spreadableState,\n            className,\n            handleItemSelect: this.handleItemSelect,\n            handleKeyDown: this.handleKeyDown,\n            handleKeyUp: this.handleKeyUp,\n            handlePaste: this.handlePaste,\n            handleQueryChange: this.handleInputQueryChange,\n            itemList: itemListRenderer({\n                ...spreadableState,\n                items,\n                itemsParentRef: this.refHandlers.itemsParent,\n                menuProps,\n                renderCreateItem: this.renderCreateItemMenuItem,\n                renderItem: this.renderItem,\n            }),\n        });\n    }\n\n    public componentDidUpdate(prevProps: QueryListProps<T>) {\n        if (this.props.activeItem !== undefined && this.props.activeItem !== this.state.activeItem) {\n            this.shouldCheckActiveItemInViewport = true;\n            this.setState({ activeItem: this.props.activeItem });\n        }\n\n        if (this.props.query != null && this.props.query !== prevProps.query) {\n            // new query\n            this.setQuery(this.props.query, this.props.resetOnQuery, this.props);\n        } else if (\n            // same query (or uncontrolled query), but items in the list changed\n            !Utils.shallowCompareKeys(this.props, prevProps, {\n                include: [\"items\", \"itemListPredicate\", \"itemPredicate\"],\n            })\n        ) {\n            this.setQuery(this.state.query);\n        }\n\n        if (this.shouldCheckActiveItemInViewport) {\n            // update scroll position immediately before repaint so DOM is accurate\n            // (latest filteredItems) and to avoid flicker.\n            this.requestAnimationFrame(() => this.scrollActiveItemIntoView());\n            // reset the flag\n            this.shouldCheckActiveItemInViewport = false;\n        }\n    }\n\n    public scrollActiveItemIntoView() {\n        const scrollToActiveItem = this.props.scrollToActiveItem !== false;\n        const externalChangeToActiveItem = !executeItemsEqual(\n            this.props.itemsEqual,\n            getActiveItem(this.expectedNextActiveItem),\n            getActiveItem(this.props.activeItem),\n        );\n        this.expectedNextActiveItem = null;\n\n        if (!scrollToActiveItem && externalChangeToActiveItem) {\n            return;\n        }\n\n        const activeElement = this.getActiveElement();\n        if (this.itemsParentRef != null && activeElement != null) {\n            const { offsetTop: activeTop, offsetHeight: activeHeight } = activeElement;\n            const {\n                offsetTop: parentOffsetTop,\n                scrollTop: parentScrollTop,\n                clientHeight: parentHeight,\n            } = this.itemsParentRef;\n            // compute padding on parent element to ensure we always leave space\n            const { paddingTop, paddingBottom } = this.getItemsParentPadding();\n\n            // compute the two edges of the active item for comparison, including parent padding\n            const activeBottomEdge = activeTop + activeHeight + paddingBottom - parentOffsetTop;\n            const activeTopEdge = activeTop - paddingTop - parentOffsetTop;\n\n            if (activeBottomEdge >= parentScrollTop + parentHeight) {\n                // offscreen bottom: align bottom of item with bottom of viewport\n                this.itemsParentRef.scrollTop = activeBottomEdge + activeHeight - parentHeight;\n            } else if (activeTopEdge <= parentScrollTop) {\n                // offscreen top: align top of item with top of viewport\n                this.itemsParentRef.scrollTop = activeTopEdge - activeHeight;\n            }\n        }\n    }\n\n    public setQuery(query: string, resetActiveItem = this.props.resetOnQuery, props = this.props) {\n        const { createNewItemFromQuery } = props;\n\n        this.shouldCheckActiveItemInViewport = true;\n        const hasQueryChanged = query !== this.state.query;\n        if (hasQueryChanged) {\n            props.onQueryChange?.(query);\n        }\n\n        // Leading and trailing whitespace can be confusing to display, so we remove it when passing it\n        // to functions dealing with data, like createNewItemFromQuery. But we need the unaltered user-typed\n        // query to remain in state to be able to render controlled text inputs properly.\n        const trimmedQuery = query.trim();\n        const filteredItems = getFilteredItems(trimmedQuery, props);\n        const createNewItem =\n            createNewItemFromQuery != null && trimmedQuery !== \"\" ? createNewItemFromQuery(trimmedQuery) : undefined;\n        this.setState({ createNewItem, filteredItems, query });\n\n        // always reset active item if it's now filtered or disabled\n        const activeIndex = this.getActiveIndex(filteredItems);\n        const shouldUpdateActiveItem =\n            resetActiveItem ||\n            activeIndex < 0 ||\n            isItemDisabled(getActiveItem(this.state.activeItem), activeIndex, props.itemDisabled);\n\n        if (shouldUpdateActiveItem) {\n            // if the `createNewItem` is first, that should be the first active item.\n            if (this.isCreateItemRendered(createNewItem) && this.isCreateItemFirst()) {\n                this.setActiveItem(getCreateNewItem());\n            } else {\n                this.setActiveItem(getFirstEnabledItem(filteredItems, props.itemDisabled));\n            }\n        }\n    }\n\n    public setActiveItem(activeItem: T | CreateNewItem | null) {\n        this.expectedNextActiveItem = activeItem;\n        if (this.props.activeItem === undefined) {\n            // indicate that the active item may need to be scrolled into view after update.\n            this.shouldCheckActiveItemInViewport = true;\n            this.setState({ activeItem });\n        }\n\n        if (isCreateNewItem(activeItem)) {\n            this.props.onActiveItemChange?.(null, true);\n        } else {\n            this.props.onActiveItemChange?.(activeItem, false);\n        }\n    }\n\n    /** default `itemListRenderer` implementation */\n    private renderItemList = (listProps: ItemListRendererProps<T>) => {\n        const { initialContent, noResults } = this.props;\n\n        // omit noResults if createNewItemFromQuery and createNewItemRenderer are both supplied, and query is not empty\n        const createItemView = listProps.renderCreateItem();\n        const maybeNoResults = createItemView != null ? null : noResults;\n        const menuContent = renderFilteredItems(listProps, maybeNoResults, initialContent);\n        if (menuContent == null && createItemView == null) {\n            return null;\n        }\n        const createFirst = this.isCreateItemFirst();\n        return (\n            <Menu role=\"listbox\" {...listProps.menuProps} ulRef={listProps.itemsParentRef}>\n                {createFirst && createItemView}\n                {menuContent}\n                {!createFirst && createItemView}\n            </Menu>\n        );\n    };\n\n    /** wrapper around `itemRenderer` to inject props */\n    private renderItem = (item: T, index: number) => {\n        if (this.props.disabled !== true) {\n            const { activeItem, query, filteredItems } = this.state;\n\n            const modifiers: ItemModifiers = {\n                active: executeItemsEqual(this.props.itemsEqual, getActiveItem(activeItem), item),\n                disabled: isItemDisabled(item, index, this.props.itemDisabled),\n                matchesPredicate: filteredItems.indexOf(item) >= 0,\n            };\n            return this.props.itemRenderer(item, {\n                handleClick: e => this.handleItemSelect(item, e),\n                handleFocus: () => this.setActiveItem(item),\n                index,\n                modifiers,\n                query,\n                ref: node => {\n                    if (node) {\n                        this.itemRefs.set(index, node);\n                    } else {\n                        this.itemRefs.delete(index);\n                    }\n                },\n            });\n        }\n\n        return null;\n    };\n\n    private renderCreateItemMenuItem = () => {\n        if (this.isCreateItemRendered(this.state.createNewItem)) {\n            const { activeItem, query } = this.state;\n            const trimmedQuery = query.trim();\n            const handleClick: React.MouseEventHandler<HTMLElement> = evt => {\n                this.handleItemCreate(trimmedQuery, evt);\n            };\n            const isActive = isCreateNewItem(activeItem);\n            return this.props.createNewItemRenderer!(trimmedQuery, isActive, handleClick);\n        }\n\n        return null;\n    };\n\n    private getActiveElement() {\n        const { activeItem } = this.state;\n        if (this.itemsParentRef != null) {\n            if (isCreateNewItem(activeItem)) {\n                const index = this.isCreateItemFirst() ? 0 : this.state.filteredItems.length;\n                return this.itemsParentRef.children.item(index) as HTMLElement;\n            } else {\n                const activeIndex = this.getActiveIndex();\n                return (\n                    this.itemRefs.get(activeIndex) ?? (this.itemsParentRef.children.item(activeIndex) as HTMLElement)\n                );\n            }\n        }\n        return undefined;\n    }\n\n    private getActiveIndex(items = this.state.filteredItems) {\n        const { activeItem } = this.state;\n        if (activeItem == null || isCreateNewItem(activeItem)) {\n            return -1;\n        }\n        // NOTE: this operation is O(n) so it should be avoided in render(). safe for events though.\n        for (let i = 0; i < items.length; ++i) {\n            if (executeItemsEqual(this.props.itemsEqual, items[i], activeItem)) {\n                return i;\n            }\n        }\n        return -1;\n    }\n\n    private getItemsParentPadding() {\n        // assert ref exists because it was checked before calling\n        const { paddingTop, paddingBottom } = getComputedStyle(this.itemsParentRef!);\n        return {\n            paddingBottom: pxToNumber(paddingBottom),\n            paddingTop: pxToNumber(paddingTop),\n        };\n    }\n\n    private handleItemCreate = (query: string, evt?: React.SyntheticEvent<HTMLElement>) => {\n        // we keep a cached createNewItem in state, but might as well recompute\n        // the result just to be sure it's perfectly in sync with the query.\n        const value = this.props.createNewItemFromQuery?.(query);\n\n        if (value != null) {\n            const newItems = Array.isArray(value) ? value : [value];\n            for (const item of newItems) {\n                this.props.onItemSelect?.(item, evt);\n            }\n            this.maybeResetQuery();\n        }\n    };\n\n    private handleItemSelect = (item: T, event?: React.SyntheticEvent<HTMLElement>) => {\n        this.setActiveItem(item);\n        this.props.onItemSelect?.(item, event);\n        this.maybeResetQuery();\n    };\n\n    private handlePaste = (queries: string[]) => {\n        const { createNewItemFromQuery, onItemsPaste } = this.props;\n\n        let nextActiveItem: T | undefined;\n        const nextQueries = [];\n\n        // Find an exising itemthat exactly matches each pasted value, or\n        // create a new item if possible. Ignore unmatched values if creating\n        // items is disabled.\n        const pastedItemsToEmit = [];\n\n        for (const query of queries) {\n            const equalItem = getMatchingItem(query, this.props);\n\n            if (equalItem !== undefined) {\n                nextActiveItem = equalItem;\n                pastedItemsToEmit.push(equalItem);\n            } else if (this.canCreateItems()) {\n                const value = createNewItemFromQuery?.(query);\n                if (value !== undefined) {\n                    const newItems = Array.isArray(value) ? value : [value];\n                    pastedItemsToEmit.push(...newItems);\n                }\n            } else {\n                nextQueries.push(query);\n            }\n        }\n\n        // UX nicety: combine all unmatched queries into a single\n        // comma-separated query in the input, so we don't lose any information.\n        // And don't reset the active item; we'll do that ourselves below.\n        this.setQuery(nextQueries.join(\", \"), false);\n\n        // UX nicety: update the active item if we matched with at least one\n        // existing item.\n        if (nextActiveItem !== undefined) {\n            this.setActiveItem(nextActiveItem);\n        }\n\n        onItemsPaste?.(pastedItemsToEmit);\n    };\n\n    private handleKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n        const { key } = event;\n        if (key === \"ArrowUp\" || key === \"ArrowDown\") {\n            event.preventDefault();\n            const nextActiveItem = this.getNextActiveItem(key === \"ArrowUp\" ? -1 : 1);\n            if (nextActiveItem != null) {\n                this.setActiveItem(nextActiveItem);\n            }\n        } else if (key === \"Enter\") {\n            this.isEnterKeyPressed = true;\n        }\n\n        this.props.onKeyDown?.(event);\n    };\n\n    private handleKeyUp = (event: React.KeyboardEvent<HTMLElement>) => {\n        const { onKeyUp } = this.props;\n        const { activeItem } = this.state;\n\n        if (event.key === \"Enter\" && this.isEnterKeyPressed) {\n            // We handle ENTER in keyup here to play nice with the Button component's keyboard\n            // clicking. Button is commonly used as the only child of Select. If we were to\n            // instead process ENTER on keydown, then Button would click itself on keyup and\n            // the Select popover would re-open.\n            event.preventDefault();\n            if (activeItem == null || isCreateNewItem(activeItem)) {\n                this.handleItemCreate(this.state.query, event);\n            } else {\n                this.handleItemSelect(activeItem, event);\n            }\n            this.isEnterKeyPressed = false;\n        }\n\n        onKeyUp?.(event);\n    };\n\n    private handleInputQueryChange = (event?: React.ChangeEvent<HTMLInputElement>) => {\n        const query = event == null ? \"\" : event.target.value;\n        this.setQuery(query);\n        this.props.onQueryChange?.(query, event);\n    };\n\n    /**\n     * Get the next enabled item, moving in the given direction from the start\n     * index. A `null` return value means no suitable item was found.\n     *\n     * @param direction amount to move in each iteration, typically +/-1\n     * @param startIndex item to start iteration\n     */\n    private getNextActiveItem(direction: number, startIndex = this.getActiveIndex()): T | CreateNewItem | null {\n        if (this.isCreateItemRendered(this.state.createNewItem)) {\n            const reachedCreate =\n                (startIndex === 0 && direction === -1) ||\n                (startIndex === this.state.filteredItems.length - 1 && direction === 1);\n            if (reachedCreate) {\n                return getCreateNewItem();\n            }\n        }\n        return getFirstEnabledItem(this.state.filteredItems, this.props.itemDisabled, direction, startIndex);\n    }\n\n    /**\n     * @param createNewItem Checks if this item would match the current query. Cannot check this.state.createNewItem\n     *  every time since state may not have been updated yet.\n     */\n    private isCreateItemRendered(createNewItem?: T | T[]): boolean {\n        return (\n            this.canCreateItems() &&\n            this.state.query !== \"\" &&\n            // this check is unfortunately O(N) on the number of items, but\n            // alas, hiding the \"Create Item\" option when it exactly matches an\n            // existing item is much clearer.\n            !this.wouldCreatedItemMatchSomeExistingItem(createNewItem)\n        );\n    }\n\n    private isCreateItemFirst(): boolean {\n        return this.props.createNewItemPosition === \"first\";\n    }\n\n    private canCreateItems(): boolean {\n        return this.props.createNewItemFromQuery != null && this.props.createNewItemRenderer != null;\n    }\n\n    private wouldCreatedItemMatchSomeExistingItem(createNewItem?: T | T[]) {\n        // search only the filtered items, not the full items list, because we\n        // only need to check items that match the current query.\n        return this.state.filteredItems.some(item => {\n            const newItems = Array.isArray(createNewItem) ? createNewItem : [createNewItem];\n            return newItems.some(newItem => executeItemsEqual(this.props.itemsEqual, item, newItem));\n        });\n    }\n\n    private maybeResetQuery() {\n        if (this.props.resetOnSelect) {\n            this.setQuery(\"\", true);\n        }\n    }\n}\n\nfunction pxToNumber(value: string | null) {\n    return value == null ? 0 : parseInt(value.slice(0, -2), 10);\n}\n\nfunction getMatchingItem<T>(query: string, { items, itemPredicate }: QueryListProps<T>): T | undefined {\n    if (Utils.isFunction(itemPredicate)) {\n        // .find() doesn't exist in ES5. Alternative: use a for loop instead of\n        // .filter() so that we can return as soon as we find the first match.\n        for (let i = 0; i < items.length; i++) {\n            const item = items[i];\n            if (itemPredicate(query, item, i, true)) {\n                return item;\n            }\n        }\n    }\n    return undefined;\n}\n\nfunction getFilteredItems<T>(query: string, { items, itemPredicate, itemListPredicate }: QueryListProps<T>) {\n    if (Utils.isFunction(itemListPredicate)) {\n        // note that implementations can reorder the items here\n        return itemListPredicate(query, items);\n    } else if (Utils.isFunction(itemPredicate)) {\n        return items.filter((item, index) => itemPredicate(query, item, index));\n    }\n    return items;\n}\n\n/** Wrap number around min/max values: if it exceeds one bound, return the other. */\nfunction wrapNumber(value: number, min: number, max: number) {\n    if (value < min) {\n        return max;\n    } else if (value > max) {\n        return min;\n    }\n    return value;\n}\n\nfunction isItemDisabled<T>(item: T | null, index: number, itemDisabled?: ListItemsProps<T>[\"itemDisabled\"]) {\n    if (itemDisabled == null || item == null) {\n        return false;\n    } else if (Utils.isFunction(itemDisabled)) {\n        return itemDisabled(item, index);\n    }\n    return !!item[itemDisabled];\n}\n\n/**\n * Get the next enabled item, moving in the given direction from the start\n * index. A `null` return value means no suitable item was found.\n *\n * @param items the list of items\n * @param itemDisabled callback to determine if a given item is disabled\n * @param direction amount to move in each iteration, typically +/-1\n * @param startIndex which index to begin moving from\n */\nexport function getFirstEnabledItem<T>(\n    items: T[],\n    itemDisabled?: keyof T | ((item: T, index: number) => boolean),\n    direction = 1,\n    startIndex = items.length - 1,\n): T | CreateNewItem | null {\n    if (items.length === 0) {\n        return null;\n    }\n    // remember where we started to prevent an infinite loop\n    let index = startIndex;\n    const maxIndex = items.length - 1;\n    do {\n        // find first non-disabled item\n        index = wrapNumber(index + direction, 0, maxIndex);\n        if (!isItemDisabled(items[index], index, itemDisabled)) {\n            return items[index];\n        }\n    } while (index !== startIndex && startIndex !== -1);\n    return null;\n}\n", "/*\n * Copyright 2017 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from \"classnames\";\nimport * as React from \"react\";\n\nimport { DISPLAYNAME_PREFIX, InputGroup, type InputGroupProps, Overlay, type OverlayProps } from \"@blueprintjs/core\";\nimport { Search } from \"@blueprintjs/icons\";\n\nimport { Classes, type ListItemsProps } from \"../../common\";\nimport { QueryList, type QueryListRendererProps } from \"../query-list/queryList\";\n\nexport interface OmnibarProps<T> extends ListItemsProps<T> {\n    /**\n     * Props to spread to the query `InputGroup`. Use `query` and\n     * `onQueryChange` instead of `inputProps.value` and `inputProps.onChange`\n     * to control this input.\n     */\n    inputProps?: InputGroupProps;\n\n    /**\n     * Toggles the visibility of the omnibar.\n     * This prop is required because the component is controlled.\n     */\n    isOpen: boolean;\n\n    /**\n     * A callback that is invoked when user interaction causes the omnibar to\n     * close, such as clicking on the overlay or pressing the `esc` key (if\n     * enabled). Receives the event from the user's interaction, if there was an\n     * event (generally either a mouse or key event).\n     *\n     * Note that due to controlled usage, this component will not actually close\n     * itself until the `isOpen` prop becomes `false`.\n     * .\n     */\n    onClose?: (event?: React.SyntheticEvent<HTMLElement>) => void;\n\n    /** Props to spread to `Overlay`. */\n    overlayProps?: Partial<OverlayProps>;\n}\n\n/**\n * Omnibar component.\n *\n * @see https://blueprintjs.com/docs/#select/omnibar\n */\nexport class Omnibar<T> extends React.PureComponent<OmnibarProps<T>> {\n    public static displayName = `${DISPLAYNAME_PREFIX}.Omnibar`;\n\n    public static ofType<U>() {\n        return Omnibar as new (props: OmnibarProps<U>) => Omnibar<U>;\n    }\n\n    public render() {\n        // omit props specific to this component, spread the rest.\n        const { isOpen, inputProps, overlayProps, ...restProps } = this.props;\n        const initialContent = \"initialContent\" in this.props ? this.props.initialContent : null;\n\n        return (\n            <QueryList<T>\n                {...restProps}\n                // Omnibar typically does not keep track of and/or show its selection state like other\n                // select components, so it's more of a menu than a listbox. This means that users should return\n                // MenuItems with roleStructure=\"menuitem\" (the default value) in `props.itemRenderer`.\n                menuProps={{ role: \"menu\" }}\n                initialContent={initialContent}\n                renderer={this.renderQueryList}\n            />\n        );\n    }\n\n    private renderQueryList = (listProps: QueryListRendererProps<T>) => {\n        const { inputProps = {}, isOpen, overlayProps = {} } = this.props;\n        const { handleKeyDown, handleKeyUp } = listProps;\n        const handlers = isOpen ? { onKeyDown: handleKeyDown, onKeyUp: handleKeyUp } : {};\n\n        return (\n            <Overlay\n                hasBackdrop={true}\n                {...overlayProps}\n                isOpen={isOpen}\n                className={classNames(Classes.OMNIBAR_OVERLAY, overlayProps.className)}\n                onClose={this.handleOverlayClose}\n            >\n                <div className={classNames(Classes.OMNIBAR, listProps.className)} {...handlers}>\n                    <InputGroup\n                        autoFocus={true}\n                        large={true}\n                        leftIcon={<Search />}\n                        placeholder=\"Search...\"\n                        {...inputProps}\n                        onChange={listProps.handleQueryChange}\n                        value={listProps.query}\n                    />\n                    {listProps.itemList}\n                </div>\n            </Overlay>\n        );\n    };\n\n    private handleOverlayClose = (event: React.SyntheticEvent<HTMLElement>) => {\n        this.props.overlayProps?.onClose?.(event);\n        this.props.onClose?.(event);\n    };\n}\n", "/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from \"classnames\";\nimport * as React from \"react\";\n\nimport {\n    AbstractPureComponent,\n    Button,\n    Classes as CoreClasses,\n    DISPLAYNAME_PREFIX,\n    InputGroup,\n    type InputGroupProps,\n    Popover,\n    type PopoverClickTargetHandlers,\n    type PopoverTargetProps,\n    PopupKind,\n    refHandler,\n    setRef,\n    Utils,\n} from \"@blueprintjs/core\";\nimport { Cross, Search } from \"@blueprintjs/icons\";\n\nimport { Classes, type ListItemsProps, type SelectPopoverProps } from \"../../common\";\nimport { QueryList, type QueryListRendererProps } from \"../query-list/queryList\";\n\nexport interface SelectProps<T> extends ListItemsProps<T>, SelectPopoverProps {\n    /**\n     * Element which triggers the select popover. In most cases, you should display\n     * the name or label of the curently selected item here.\n     */\n    children?: React.ReactNode;\n\n    /**\n     * Whether the component is non-interactive.\n     * If true, the list's item renderer will not be called.\n     * Note that you'll also need to disable the component's children, if appropriate.\n     *\n     * @default false\n     */\n    disabled?: boolean;\n\n    /**\n     * Whether the component should take up the full width of its container.\n     * You also have to ensure that the child component has `fill` set to `true` or is styled appropriately.\n     */\n    fill?: boolean;\n\n    /**\n     * Whether the dropdown list can be filtered.\n     * Disabling this option will remove the `InputGroup` and ignore `inputProps`.\n     *\n     * @default true\n     */\n    filterable?: boolean;\n\n    /**\n     * Props to pass to the query [InputGroup component](#core/components/input-group).\n     *\n     * Some properties are unavailable:\n     * - `inputProps.value`: use `query` instead\n     * - `inputProps.onChange`: use `onQueryChange` instead\n     */\n    inputProps?: Partial<Omit<InputGroupProps, \"value\" | \"onChange\">>;\n\n    /**\n     * HTML attributes to add to the `Menu` listbox containing the selectable options.\n     */\n    menuProps?: React.HTMLAttributes<HTMLUListElement>;\n\n    /**\n     * Whether the active item should be reset to the first matching item _when\n     * the popover closes_. The query will also be reset to the empty string.\n     *\n     * @default false\n     */\n    resetOnClose?: boolean;\n}\n\n/** Exported for testing, not part of public API */\nexport interface SelectState {\n    isOpen: boolean;\n}\n\n/**\n * Select component.\n *\n * @see https://blueprintjs.com/docs/#select/select\n */\nexport class Select<T> extends AbstractPureComponent<SelectProps<T>, SelectState> {\n    public static displayName = `${DISPLAYNAME_PREFIX}.Select`;\n\n    /** @deprecated no longer necessary now that the TypeScript parser supports type arguments on JSX element tags */\n    public static ofType<U>() {\n        return Select as new (props: SelectProps<U>) => Select<U>;\n    }\n\n    public state: SelectState = { isOpen: false };\n\n    public inputElement: HTMLInputElement | null = null;\n\n    private queryList: QueryList<T> | null = null;\n\n    private previousFocusedElement: HTMLElement | undefined;\n\n    private handleInputRef: React.Ref<HTMLInputElement> = refHandler(\n        this,\n        \"inputElement\",\n        this.props.inputProps?.inputRef,\n    );\n\n    private handleQueryListRef = (ref: QueryList<T> | null) => (this.queryList = ref);\n\n    private listboxId = Utils.uniqueId(\"listbox\");\n\n    public render() {\n        // omit props specific to this component, spread the rest.\n        const { filterable, inputProps, menuProps, popoverProps, ...restProps } = this.props;\n\n        return (\n            <QueryList<T>\n                {...restProps}\n                menuProps={{ \"aria-label\": \"selectable options\", ...menuProps, id: this.listboxId }}\n                onItemSelect={this.handleItemSelect}\n                ref={this.handleQueryListRef}\n                renderer={this.renderQueryList}\n            />\n        );\n    }\n\n    public componentDidUpdate(prevProps: SelectProps<T>, prevState: SelectState) {\n        if (prevProps.inputProps?.inputRef !== this.props.inputProps?.inputRef) {\n            setRef(prevProps.inputProps?.inputRef, null);\n            this.handleInputRef = refHandler(this, \"inputElement\", this.props.inputProps?.inputRef);\n            setRef(this.props.inputProps?.inputRef, this.inputElement);\n        }\n\n        if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n    }\n\n    private renderQueryList = (listProps: QueryListRendererProps<T>) => {\n        // not using defaultProps cuz they're hard to type with generics (can't use <T> on static members)\n        const {\n            filterable = true,\n            disabled = false,\n            inputProps = {},\n            popoverContentProps = {},\n            popoverProps = {},\n            popoverRef,\n        } = this.props;\n\n        const input = (\n            <InputGroup\n                aria-autocomplete=\"list\"\n                leftIcon={<Search />}\n                placeholder=\"Filter...\"\n                rightElement={this.maybeRenderClearButton(listProps.query)}\n                {...inputProps}\n                inputRef={this.handleInputRef}\n                onChange={listProps.handleQueryChange}\n                value={listProps.query}\n            />\n        );\n\n        const { handleKeyDown, handleKeyUp } = listProps;\n\n        // N.B. no need to set `fill` since that is unused with the `renderTarget` API\n        return (\n            <Popover\n                autoFocus={false}\n                enforceFocus={false}\n                isOpen={this.state.isOpen}\n                disabled={disabled}\n                placement={popoverProps.position || popoverProps.placement ? undefined : \"bottom-start\"}\n                {...popoverProps}\n                className={classNames(listProps.className, popoverProps.className)}\n                content={\n                    <div {...popoverContentProps} onKeyDown={handleKeyDown} onKeyUp={handleKeyUp}>\n                        {filterable ? input : undefined}\n                        {listProps.itemList}\n                    </div>\n                }\n                onClosing={this.handlePopoverClosing}\n                onInteraction={this.handlePopoverInteraction}\n                onOpened={this.handlePopoverOpened}\n                onOpening={this.handlePopoverOpening}\n                popoverClassName={classNames(Classes.SELECT_POPOVER, popoverProps.popoverClassName)}\n                popupKind={PopupKind.LISTBOX}\n                ref={popoverRef}\n                renderTarget={this.getPopoverTargetRenderer(listProps, this.state.isOpen)}\n            />\n        );\n    };\n\n    // We use the renderTarget API to flatten the rendered DOM and make it easier to implement features like\n    // the \"fill\" prop. Note that we must take `isOpen` as an argument to force this render function to be called\n    // again after that state changes.\n    private getPopoverTargetRenderer =\n        (listProps: QueryListRendererProps<T>, isOpen: boolean) =>\n        // N.B. pull out `isOpen` so that it's not forwarded to the DOM, but remember not to use it directly\n        // since it may be stale (`renderTarget` is not re-invoked on this.state changes).\n        // eslint-disable-next-line react/display-name\n        ({ isOpen: _isOpen, ref, ...targetProps }: PopoverTargetProps & PopoverClickTargetHandlers) => {\n            const { disabled, popoverProps = {}, popoverTargetProps } = this.props;\n            const { handleKeyDown, handleKeyUp } = listProps;\n            const { targetTagName = \"div\" } = popoverProps;\n            return React.createElement(\n                targetTagName,\n                {\n                    \"aria-controls\": this.listboxId,\n                    ...popoverTargetProps,\n                    ...targetProps,\n                    \"aria-disabled\": disabled,\n                    \"aria-expanded\": isOpen,\n                    // Note that we must set FILL here in addition to children to get the wrapper element to full width\n                    className: classNames(targetProps.className, popoverTargetProps?.className, {\n                        [CoreClasses.FILL]: this.props.fill,\n                    }),\n                    // Normally, Popover would also need to attach its own `onKeyDown` handler via `targetProps`,\n                    // but in our case we fully manage that interaction and listen for key events to open/close\n                    // the popover, so we elide it from the DOM.\n                    onKeyDown: this.withPopoverTargetPropsHandler(\n                        \"keydown\",\n                        isOpen ? handleKeyDown : this.handleTargetKeyDown,\n                    ),\n                    onKeyUp: this.withPopoverTargetPropsHandler(\"keyup\", isOpen ? handleKeyUp : undefined),\n                    ref,\n                    role: \"combobox\",\n                },\n                this.props.children,\n            );\n        };\n\n    private maybeRenderClearButton(query: string) {\n        return query.length > 0 ? (\n            <Button\n                aria-label=\"Clear filter query\"\n                icon={<Cross />}\n                minimal={true}\n                onClick={this.resetQuery}\n                title=\"Clear filter query\"\n            />\n        ) : undefined;\n    }\n\n    private withPopoverTargetPropsHandler = (\n        eventType: \"keydown\" | \"keyup\",\n        handler: React.KeyboardEventHandler<HTMLElement> | undefined,\n    ): React.KeyboardEventHandler<HTMLElement> => {\n        switch (eventType) {\n            case \"keydown\":\n                return event => {\n                    handler?.(event);\n                    this.props.popoverTargetProps?.onKeyDown?.(event);\n                };\n            case \"keyup\":\n                return event => {\n                    handler?.(event);\n                    this.props.popoverTargetProps?.onKeyUp?.(event);\n                };\n        }\n    };\n\n    /**\n     * Target wrapper element \"keydown\" handler while the popover is closed.\n     */\n    private handleTargetKeyDown = (event: React.KeyboardEvent<HTMLElement>) => {\n        // open popover when arrow key pressed on target while closed\n        if (event.key === \"ArrowUp\" || event.key === \"ArrowDown\") {\n            event.preventDefault();\n            this.setState({ isOpen: true });\n        } else if (Utils.isKeyboardClick(event)) {\n            this.setState({ isOpen: true });\n        }\n    };\n\n    private handleItemSelect = (item: T, event?: React.SyntheticEvent<HTMLElement>) => {\n        const target = event?.target as HTMLElement;\n        const menuItem = target?.closest(`.${CoreClasses.MENU_ITEM}`);\n        const menuItemDismiss = menuItem?.matches(`.${CoreClasses.POPOVER_DISMISS}`);\n        const shouldDismiss = menuItemDismiss ?? true;\n\n        this.setState({ isOpen: !shouldDismiss });\n        this.props.onItemSelect?.(item, event);\n    };\n\n    private handlePopoverInteraction = (isOpen: boolean, event?: React.SyntheticEvent<HTMLElement>) => {\n        this.setState({ isOpen });\n        this.props.popoverProps?.onInteraction?.(isOpen, event);\n    };\n\n    private handlePopoverOpening = (node: HTMLElement) => {\n        // save currently focused element before popover steals focus, so we can restore it when closing.\n        this.previousFocusedElement = (Utils.getActiveElement(this.inputElement) as HTMLElement | null) ?? undefined;\n\n        if (this.props.resetOnClose) {\n            this.resetQuery();\n        }\n\n        this.props.popoverProps?.onOpening?.(node);\n    };\n\n    private handlePopoverOpened = (node: HTMLElement) => {\n        // scroll active item into view after popover transition completes and all dimensions are stable.\n        if (this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n\n        this.requestAnimationFrame(() => {\n            const { inputProps = {} } = this.props;\n            // autofocus is enabled by default\n            if (inputProps.autoFocus !== false) {\n                this.inputElement?.focus();\n            }\n        });\n\n        this.props.popoverProps?.onOpened?.(node);\n    };\n\n    private handlePopoverClosing = (node: HTMLElement) => {\n        // restore focus to saved element.\n        // timeout allows popover to begin closing and remove focus handlers beforehand.\n        /* istanbul ignore next */\n        this.requestAnimationFrame(() => {\n            if (this.previousFocusedElement !== undefined) {\n                this.previousFocusedElement.focus();\n                this.previousFocusedElement = undefined;\n            }\n        });\n\n        this.props.popoverProps?.onClosing?.(node);\n    };\n\n    private resetQuery = () => this.queryList && this.queryList.setQuery(\"\", true);\n}\n", "/*\n * Copyright 2022 Palantir Technologies, Inc. All rights reserved.\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\nimport classNames from \"classnames\";\nimport * as React from \"react\";\n\nimport {\n    AbstractPureComponent,\n    DISPLAYNAME_PREFIX,\n    InputGroup,\n    type InputGroupProps,\n    mergeRefs,\n    Popover,\n    type PopoverClickTargetHandlers,\n    type PopoverTargetProps,\n    PopupKind,\n    refHandler,\n    setRef,\n    Utils,\n} from \"@blueprintjs/core\";\n\nimport { Classes, type ListItemsProps, type SelectPopoverProps } from \"../../common\";\nimport { QueryList, type QueryListRendererProps } from \"../query-list/queryList\";\n\nexport interface SuggestProps<T> extends ListItemsProps<T>, Omit<SelectPopoverProps, \"popoverTargetProps\"> {\n    /**\n     * Whether the popover should close after selecting an item.\n     *\n     * @default true\n     */\n    closeOnSelect?: boolean;\n\n    /** Whether the input field should be disabled. */\n    disabled?: boolean;\n\n    /**\n     * Whether the component should take up the full width of its container.\n     */\n    fill?: boolean;\n\n    /**\n     * Props to pass to the query [InputGroup component](#core/components/input-group).\n     *\n     * Some properties are unavailable:\n     * - `inputProps.value`: use `query` instead\n     * - `inputProps.onChange`: use `onQueryChange` instead\n     * - `inputProps.disabled`: use `disabled` instead\n     * - `inputProps.fill`: use `fill` instead\n     *\n     * Other notes:\n     * - `inputProps.tagName` will override `popoverProps.targetTagName`\n     * - `inputProps.className` will work as expected, but this is redundant with the simpler `className` prop\n     */\n    inputProps?: Partial<Omit<InputGroupProps, \"disabled\" | \"fill\" | \"value\" | \"onChange\">>;\n\n    /** Custom renderer to transform an item into a string for the input value. */\n    inputValueRenderer: (item: T) => string;\n\n    /**\n     * The uncontrolled default selected item.\n     * This prop is ignored if `selectedItem` is used to control the state.\n     */\n    defaultSelectedItem?: T;\n\n    /**\n     * The currently selected item, or `null` to indicate that no item is selected.\n     * If omitted or `undefined`, this prop will be uncontrolled (managed by the component's state).\n     * Use `onItemSelect` to listen for updates.\n     */\n    selectedItem?: T | null;\n\n    /**\n     * HTML attributes to add to the `Menu` listbox containing the selectable options.\n     */\n    menuProps?: React.HTMLAttributes<HTMLUListElement>;\n\n    /**\n     * If true, the component waits until a keydown event in the TagInput\n     * before opening its popover.\n     *\n     * If false, the popover opens immediately after a mouse click or TAB key\n     * interaction focuses the component's TagInput.\n     *\n     * @default false\n     */\n    openOnKeyDown?: boolean;\n\n    /**\n     * Whether the active item should be reset to the first matching item _when\n     * the popover closes_. The query will also be reset to the empty string.\n     *\n     * @default false\n     */\n    resetOnClose?: boolean;\n}\n\nexport interface SuggestState<T> {\n    isOpen: boolean;\n    selectedItem: T | null;\n}\n\n/**\n * Suggest component.\n *\n * @see https://blueprintjs.com/docs/#select/suggest\n */\nexport class Suggest<T> extends AbstractPureComponent<SuggestProps<T>, SuggestState<T>> {\n    public static displayName = `${DISPLAYNAME_PREFIX}.Suggest`;\n\n    public static defaultProps: Partial<SuggestProps<any>> = {\n        closeOnSelect: true,\n        fill: false,\n        openOnKeyDown: false,\n        resetOnClose: false,\n    };\n\n    /** @deprecated no longer necessary now that the TypeScript parser supports type arguments on JSX element tags */\n    public static ofType<U>() {\n        return Suggest as new (props: SuggestProps<U>) => Suggest<U>;\n    }\n\n    public state: SuggestState<T> = {\n        isOpen: (this.props.popoverProps != null && this.props.popoverProps.isOpen) || false,\n        selectedItem: this.getInitialSelectedItem(),\n    };\n\n    public inputElement: HTMLInputElement | null = null;\n\n    private queryList: QueryList<T> | null = null;\n\n    private handleInputRef: React.Ref<HTMLInputElement> = refHandler(\n        this,\n        \"inputElement\",\n        this.props.inputProps?.inputRef,\n    );\n\n    private handleQueryListRef = (ref: QueryList<T> | null) => (this.queryList = ref);\n\n    private listboxId = Utils.uniqueId(\"listbox\");\n\n    public render() {\n        // omit props specific to this component, spread the rest.\n        const { disabled, inputProps, menuProps, popoverProps, ...restProps } = this.props;\n\n        return (\n            <QueryList<T>\n                {...restProps}\n                menuProps={{ \"aria-label\": \"selectable options\", ...menuProps, id: this.listboxId }}\n                initialActiveItem={this.props.selectedItem ?? undefined}\n                onItemSelect={this.handleItemSelect}\n                ref={this.handleQueryListRef}\n                renderer={this.renderQueryList}\n            />\n        );\n    }\n\n    public componentDidUpdate(prevProps: SuggestProps<T>, prevState: SuggestState<T>) {\n        if (prevProps.inputProps?.inputRef !== this.props.inputProps?.inputRef) {\n            setRef(prevProps.inputProps?.inputRef, null);\n            this.handleInputRef = refHandler(this, \"inputElement\", this.props.inputProps?.inputRef);\n            setRef(this.props.inputProps?.inputRef, this.inputElement);\n        }\n\n        // If the selected item prop changes, update the underlying state.\n        if (this.props.selectedItem !== undefined && this.props.selectedItem !== this.state.selectedItem) {\n            this.setState({ selectedItem: this.props.selectedItem });\n        }\n\n        if (this.state.isOpen === false && prevState.isOpen === true) {\n            // just closed, likely by keyboard interaction\n            // wait until the transition ends so there isn't a flash of content in the popover\n            const timeout = this.props.popoverProps?.transitionDuration ?? Popover.defaultProps.transitionDuration;\n            setTimeout(() => this.maybeResetActiveItemToSelectedItem(), timeout);\n        }\n\n        if (this.state.isOpen && !prevState.isOpen && this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n    }\n\n    private renderQueryList = (listProps: QueryListRendererProps<T>) => {\n        const { popoverContentProps = {}, popoverProps = {}, popoverRef } = this.props;\n        const { isOpen } = this.state;\n        const { handleKeyDown, handleKeyUp } = listProps;\n\n        // N.B. no need to set `popoverProps.fill` since that is unused with the `renderTarget` API\n        return (\n            <Popover\n                autoFocus={false}\n                enforceFocus={false}\n                isOpen={isOpen}\n                placement={popoverProps.position || popoverProps.placement ? undefined : \"bottom-start\"}\n                {...popoverProps}\n                className={classNames(listProps.className, popoverProps.className)}\n                content={\n                    <div {...popoverContentProps} onKeyDown={handleKeyDown} onKeyUp={handleKeyUp}>\n                        {listProps.itemList}\n                    </div>\n                }\n                interactionKind=\"click\"\n                onInteraction={this.handlePopoverInteraction}\n                onOpened={this.handlePopoverOpened}\n                onOpening={this.handlePopoverOpening}\n                popoverClassName={classNames(Classes.SUGGEST_POPOVER, popoverProps.popoverClassName)}\n                popupKind={PopupKind.LISTBOX}\n                ref={popoverRef}\n                renderTarget={this.getPopoverTargetRenderer(listProps, isOpen)}\n            />\n        );\n    };\n\n    // We use the renderTarget API to flatten the rendered DOM and make it easier to implement features like\n    // the \"fill\" prop. Note that we must take `isOpen` as an argument to force this render function to be called\n    // again after that state changes.\n    private getPopoverTargetRenderer =\n        (listProps: QueryListRendererProps<T>, isOpen: boolean) =>\n        // eslint-disable-next-line react/display-name\n        ({\n            // pull out `isOpen` so that it's not forwarded to the DOM\n            isOpen: _isOpen,\n            ref,\n            ...targetProps\n        }: PopoverTargetProps & PopoverClickTargetHandlers) => {\n            const { disabled, fill, inputProps = {}, inputValueRenderer, popoverProps = {}, resetOnClose } = this.props;\n            const { selectedItem } = this.state;\n            const { handleKeyDown, handleKeyUp } = listProps;\n\n            const selectedItemText = selectedItem == null ? \"\" : inputValueRenderer(selectedItem);\n            const { autoComplete = \"off\", placeholder = \"Search...\" } = inputProps;\n            // placeholder shows selected item while open.\n            const inputPlaceholder = isOpen && selectedItemText ? selectedItemText : placeholder;\n            // value shows query when open, and query remains when closed if nothing is selected.\n            // if resetOnClose is enabled, then hide query when not open. (see handlePopoverOpening)\n            const inputValue = isOpen\n                ? listProps.query\n                : selectedItemText === \"\"\n                  ? resetOnClose\n                      ? \"\"\n                      : listProps.query\n                  : selectedItemText;\n\n            return (\n                <InputGroup\n                    aria-controls={this.listboxId}\n                    autoComplete={autoComplete}\n                    disabled={disabled}\n                    tagName={popoverProps.targetTagName}\n                    {...targetProps}\n                    {...inputProps}\n                    aria-autocomplete=\"list\"\n                    aria-expanded={isOpen}\n                    className={classNames(targetProps.className, inputProps.className)}\n                    fill={fill}\n                    inputRef={mergeRefs(this.handleInputRef, ref)}\n                    onChange={listProps.handleQueryChange}\n                    onFocus={this.handleInputFocus}\n                    onKeyDown={this.getTargetKeyDownHandler(handleKeyDown)}\n                    onKeyUp={this.getTargetKeyUpHandler(handleKeyUp)}\n                    placeholder={inputPlaceholder}\n                    role=\"combobox\"\n                    value={inputValue}\n                />\n            );\n        };\n\n    private selectText = () => {\n        // wait until the input is properly focused to select the text inside of it\n        this.requestAnimationFrame(() => {\n            this.inputElement?.setSelectionRange(0, this.inputElement.value.length);\n        });\n    };\n\n    private handleInputFocus = (event: React.FocusEvent<HTMLInputElement>) => {\n        this.selectText();\n\n        // TODO can we leverage Popover.openOnTargetFocus for this?\n        if (!this.props.openOnKeyDown) {\n            this.setState({ isOpen: true });\n        }\n\n        this.props.inputProps?.onFocus?.(event);\n    };\n\n    private handleItemSelect = (item: T, event?: React.SyntheticEvent<HTMLElement>) => {\n        let nextOpenState: boolean;\n\n        if (!this.props.closeOnSelect) {\n            this.inputElement?.focus();\n            this.selectText();\n            nextOpenState = true;\n        } else {\n            this.inputElement?.blur();\n            nextOpenState = false;\n        }\n\n        // the internal state should only change when uncontrolled.\n        if (this.props.selectedItem === undefined) {\n            this.setState({\n                isOpen: nextOpenState,\n                selectedItem: item,\n            });\n        } else {\n            // otherwise just set the next open state.\n            this.setState({ isOpen: nextOpenState });\n        }\n\n        this.props.onItemSelect?.(item, event);\n    };\n\n    private getInitialSelectedItem(): T | null {\n        // controlled > uncontrolled > default\n        if (this.props.selectedItem !== undefined) {\n            return this.props.selectedItem;\n        } else if (this.props.defaultSelectedItem !== undefined) {\n            return this.props.defaultSelectedItem;\n        } else {\n            return null;\n        }\n    }\n\n    // Popover interaction kind is CLICK, so this only handles click events.\n    // Note that we defer to the next animation frame in order to get the latest activeElement\n    private handlePopoverInteraction = (nextOpenState: boolean, event?: React.SyntheticEvent<HTMLElement>) =>\n        this.requestAnimationFrame(() => {\n            const isInputFocused = this.inputElement === Utils.getActiveElement(this.inputElement);\n            if (this.inputElement != null && !isInputFocused) {\n                // the input is no longer focused, we should close the popover\n                this.setState({ isOpen: false });\n            }\n            this.props.popoverProps?.onInteraction?.(nextOpenState, event);\n        });\n\n    private handlePopoverOpening = (node: HTMLElement) => {\n        // reset query before opening instead of when closing to prevent flash of unfiltered items.\n        // this is a limitation of the interactions between QueryList state and Popover transitions.\n        if (this.props.resetOnClose && this.queryList) {\n            this.queryList.setQuery(\"\", true);\n        }\n        this.props.popoverProps?.onOpening?.(node);\n    };\n\n    private handlePopoverOpened = (node: HTMLElement) => {\n        // scroll active item into view after popover transition completes and all dimensions are stable.\n        if (this.queryList != null) {\n            this.queryList.scrollActiveItemIntoView();\n        }\n        this.props.popoverProps?.onOpened?.(node);\n    };\n\n    private getTargetKeyDownHandler = (\n        handleQueryListKeyDown: React.EventHandler<React.KeyboardEvent<HTMLElement>>,\n    ) => {\n        return (e: React.KeyboardEvent<HTMLInputElement>) => {\n            if (e.key === \"Escape\" || e.key === \"Tab\") {\n                this.inputElement?.blur();\n                this.setState({ isOpen: false });\n            } else if (\n                this.props.openOnKeyDown &&\n                e.key !== \"Backspace\" &&\n                e.key !== \"ArrowLeft\" &&\n                e.key !== \"ArrowRight\"\n            ) {\n                this.setState({ isOpen: true });\n            }\n\n            if (this.state.isOpen) {\n                handleQueryListKeyDown?.(e);\n            }\n\n            this.props.inputProps?.onKeyDown?.(e);\n        };\n    };\n\n    private getTargetKeyUpHandler = (handleQueryListKeyUp: React.EventHandler<React.KeyboardEvent<HTMLElement>>) => {\n        return (evt: React.KeyboardEvent<HTMLInputElement>) => {\n            if (this.state.isOpen) {\n                handleQueryListKeyUp?.(evt);\n            }\n            this.props.inputProps?.onKeyUp?.(evt);\n        };\n    };\n\n    private maybeResetActiveItemToSelectedItem() {\n        const shouldResetActiveItemToSelectedItem =\n            this.props.activeItem === undefined && this.state.selectedItem !== null && !this.props.resetOnSelect;\n\n        if (this.queryList !== null && shouldResetActiveItemToSelectedItem) {\n            this.queryList.setActiveItem(this.props.selectedItem ?? this.state.selectedItem);\n        }\n    }\n}\n"],
  "mappings": "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",
  "names": ["classes_exports", "React", "QueryList", "_a", "query", "filteredItems", "_b", "_c", "MultiSelect", "_a", "classNames", "classes_exports", "import_classnames", "React", "Omnibar", "classNames", "classes_exports", "import_classnames", "React", "Select", "_a", "classNames", "classes_exports", "_b", "import_classnames", "React", "Suggest", "_a", "classNames", "classes_exports"]
}
