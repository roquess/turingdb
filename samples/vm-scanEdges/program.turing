.data:
ENTITY_IDS $edgeIDs, {}
ENTITY_IDS $srcIDs,  {}
ENTITY_IDS $tgtIDs,  {}
INDICES    $indices
OUTPUT     $out

.alias:
ALIAS %out,      r0
ALIAS %indices,  r4

.text:
LOAD %indices, $indices
LOAD %out,     $out
LOAD r1,       $edgeIDs
LOAD r2,       $srcIDs
LOAD r3,       $tgtIDs

ADD_COL %out, r1, _
ADD_COL %out, r2, _
ADD_COL %out, r3, _

SCAN_EDGES i0, %indices, {r1, r2, r3}
    i0_START:
    JEND   i0, i0_END
    UPDATE i0

    WRITE %out

    GOTO i0_START
i0_END:

EXIT
